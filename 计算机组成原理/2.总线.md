什么是总线

​	总线是连接各个部件的信息传输线，是各个部件共享的传输介质

总线上信息的传送

​	串行-------------------(一次传一位)

​	并行===========（一次传多位

总线结构的计算机举例

1.单总线结构框图

![image-20200618104559299](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618104559299.png)

2.面向CPU的双总线结构框图

![image-20200618104714820](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618104714820.png)

3.以存储器为中心的双总线结构框图![image-20200618110920883](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618110920883.png)



3.2总线的分类

(1.片内总线	芯片内部的总线

(2.系统总线	计算机各部门之间的信息传输线

​	数据总线	双向，与机器字长、存储字长有关（通常小于机器字长、存储字长

​	地址总线	单向 与存储地址、I/O地址有关

​	控制总线	有出有入

​						出：存储器读、写，总线允许、中断确认

​						入：中断请求、总线请求

(3.通信总线

​	用于计算机系统之间或计算机系统与其他系统(如控制仪表、移动通信等)之间的通信

传输方式

​	串行通信总线

​	并行通信总线



3.3总线特性及性能指标

一、总线物理实现

主板

二、总线特性

​	1.机械特性	尺寸、形状、管脚数及排列顺序

​	2.电气特性	传输方向 和 有效的 电平 范围

​	3.功能特性	每根传输线的功能	（地址、数据、控制

​	4.时间特性	信号的时序关系

三、总线的性能指标

1.总线宽度	数据线的根数

2.标准传输率	每秒传输的最大字节数（MBps

3.时钟同步/异步	同步、不同步（不同步包括多种类型

4.总线复用	地址线 与 数据线 复用(如8086)	为了减少芯片的管脚数

5.信号线数	地址线、数据线和控制线的总和

6.总线控制方式	突发、自动、仲裁、逻辑、计数

7.其他指标	负载能力

四、总线标准



3.4总线结构

一、单总线结构

二、多总线结构

​	1.双总线结构

​	![image-20200618160809427](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618160809427.png)

2.三总线结构

![image-20200618160925482](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618160925482.png)

![image-20200618161100540](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618161100540.png)

4.四总线结构

将高速设备和低速设备分类

![image-20200618161152679](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618161152679.png)

3.5总线控制

一、总线判优控制

​	1.基本概念

​		·主设备（模块）	对总线有控制权

​		·从设备（模块）	响应从主设备发来的总线命令

​		·总线判优控制	

​									集中式：链式查询、计数器计时查询、独立请求方式

​									分布式

2.链式查询方式

![image-20200618162421111](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618162421111.png)

一般用于微型计算机或嵌入式系统



3.计数器定时查询方式

![image-20200618163136640](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618163136640.png)

优点：确定优先级灵活，每次最先查询的是第X个接口



4.独立请求方式

![image-20200618163419763](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618163419763.png)



二、总线通信控制

​	1.目的	解决通信双方**协调配合** 问题

​	2.总线传输周期

​		申请分配阶段	主模板申请，总线仲裁决定

​		寻址阶段	主模块向从模块**给出地址**和**命令**

​		传数阶段	主模块和从模块**交换数据**

​		结束阶段	主模块**撤销有关信息**

​	3.总线通信的四种方式

​		同步通信	由**统一时标**控制数据传送

​		异步通信	采用**应答方式**，没有公共时钟标准

​		半同步通信	同步、异步结合

​		分离式通信	充分挖掘系统总线每个瞬间的潜力，发挥最大效力

​	（1）同步式数据输入

​	（2）同步式数据输出

​	（3）异步通信

![image-20200618203407612](C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20200618203407612.png)

​	（4）半同步通信（同步、异步结合

​		同步 **发送方**用系统**时钟前沿**发信号

​		**接收方**用系统**时钟后沿**判断、识别

​		异步 允许不同速度的模块和谐工作

​			增加一条**“等待”响应信号** 	WAIT

三种通信的共同点

​	一个总线传输周期（以输入数据为例

·主模块发指令、命令 	占用总线

·从模块准备数据		不占用总线（总线空闲

·从模块向主模块发数据	占用总线 



（5）分离式通信	充分挖掘系统总线每个瞬间的潜力

一个总线传输周期

子周期1	**主模块** 申请  **占用总线**，使用完后即**放弃总线**的使用权

子周期2	**从模块**申请**占用总线**，将各种信息传送至总线上

特点：1.各个模块有权申请占用总线

​			2.采用同步方式通信，不等对方回答

​			3.各模块准备数据时，不占用总线

​			4.总线被占用时，无空闲